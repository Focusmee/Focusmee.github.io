# Cursor使用指北

## Rules for AI

前置提示词

## Codebase Indexing

在初始化项目的时候用于检索项目，可以理解为 cursor 的代码上下文索引，在对话的时候会进行检索关联的代码

## MCP

让 cursor 支持调用工具的能力，详情后面会出文章描述

## Docs

可以将公司的开发文档或者当前使用框架的文档放入进来，这样可以达到规范开发，并且在对话进行引用

## 实战

### 代码审查

@git 可以让 cursor 进行审查代码，该方式比通过 提交 pr 后使用 LLM 进行审查好太多。

### 前端页面生成

### 生成多种方案

给 cursor 提出多种方案的提示词，cursor 会同时给出多种修改方案建议，此时说明自己需要哪种方案，则会直接进行修改。





## 【5.17更新】使用Cursor技巧

### **1. 设定清晰的项目规则**

- 在项目初期定义5-10条规则（如代码规范、技术栈约束），帮助Cursor理解项目结构。
- 规则分三级：通用规则、编程语言规则、框架规则。
- 通过`generate rules`命令自动生成规则。

### **2. 提示词需具体明确**

- 像写迷你规范一样描述需求，包括技术栈、功能边界等（例如“纯HTML/CSS/JS实现，无外部依赖”）。
- 避免模糊表述，减少AI的不可控输出。

### **3. 按模块逐个开发**

- 复杂项目拆解为小模块，分批生成代码并测试，避免一次性生成大量不可控代码。
- 核心功能优先，再逐步扩展。

### **4. 先写测试再生成代码**

- 提前编写测试用例并锁定（用`cursor ignore`防止AI修改测试文件）。
- 确保生成的代码通过所有测试。

### **5. 人工审查与硬修复**

- 对AI生成的代码进行人工检查，修正错误后将其作为示例反馈给Cursor，帮助AI学习改进。

### **6. 限制上下文范围**

- 使用`@file`、`@folder`指定当前工作文件/目录，避免无关代码干扰。
- 提升生成精准度，减少意外改动。

### **7. 维护设计文档**

- 将项目规则、设计文档、检查清单保存在`.cursor`目录或`README.md`中，帮助AI理解项目上下文。

### **8. 主动编辑代码示例**

- 当AI反复出错时，手动修改代码并提供给Cursor学习，比单纯解释更高效。

### **9. 复用聊天历史优化提示**

- 通过历史对话迭代提示词，无需从头开始。即使AI跑偏，也可通过追问调整方向。

### **10. 根据场景选择模型**

- **Claude 3.5**：严格遵循指令。
- **GPT-4o**：适合复杂调试。
- **Gemini**：文档扫描/更新。
- 不同模型优势互补。

### **11. 粘贴文档链接解决新问题**

- 对不熟悉的技术栈，直接粘贴官方文档链接（或用`Context.ai`工具获取最新文档），减少AI幻觉。

### **12. 大型项目需索引优化**

- 启用`code base indexing`夜间运行，忽略无关文件（如`node_modules`），保持性能敏捷。

------

### **核心原则**

- **控制与结构**：像管理初级开发者一样引导Cursor，明确边界+分步验证。
- **人工主导**：AI是辅助工具，需结合审查、测试和主动干预。





## 【5.18更新】Cursorv0.50

### **1. 后台代理（Background Agent）**

**功能定位**：云端异步处理的“远程小助手”，适合耗时/重复性任务，不干扰本地环境。

#### **如何使用？**

1. **开启步骤**：
   - 进入 `Cursor Settings → Beta`，开启 **Background Agent**。
   - 同意风险提示后，对话框右上角会出现 **云端图标**。
2. **前提条件**：
   - 代码库需托管在 **GitHub** 上（否则会提示错误）。
3. **适用场景**：
   - **适合**：自动化任务（如批量重构、文档生成）。
   - **不适合**：需人工干预的任务（如复杂项目重构、低复杂度错误修复）。
4. **当前限制**：
   - 仅支持 **Max 模式兼容的模型**。
   - 功能未全量开放，可能存在小 Bug。

------

### **2. 多代码库工作区（Workspaces）**

**功能定位**：类似 VS Code 的多项目管理，支持同时打开/操作多个独立代码库。

#### **如何配置？**

1. **创建配置文件**：

   - 新建 `name.code-workspace` 文件（JSON 格式），指定项目路径和统一设置。

   ```
   {
     "folders": [
       { "path": "/path/to/frontend" },
       { "path": "/path/to/backend" }
     ],
     "settings": {
       "editor.tabSize": 2,
       "files.exclude": { "**/node_modules": true }
     }
   }
   ```

2. **核心配置项**：

   - **`folders`**：添加多个项目路径。
   - **`settings`**：统一工作区规则（如缩进、格式化、文件忽略）。

3. **使用场景**：

   - **前后端联调**：同时修改 API 和前端界面。
   - **微服务开发**：跨服务代码对比调试。
   - **学习参考**：对比开源项目与自己的练习代码。

4. **优势**：

   - 规则优先级：`Workspace Settings` > `Project Rules`。
   - 提升跨项目操作效率，避免频繁切换窗口。

------

### **3. 对话管理增强**

1. **导出对话**：
   - 点击 `Export Chat`，将对话（含代码）保存为 Markdown 文件，便于分享或二次提问。
2. **复制对话**：
   - 通过 `Duplicate Chat` 分支当前对话，探索不同解决方案（如回溯到某个节点测试新需求）。

------

### **4. 其他更新彩蛋**

1. **Indexing 独立设置**：
   - 从 `Features` 中分离，未来可能强化代码库索引能力。
2. **隐藏功能 RCP Server**：
   - 短暂出现在 Beta 中，用途未知（可能为远程协作铺垫）。

------

### **总结**

- **后台代理**：云端异步处理，适合自动化任务，需 GitHub 托管。
- **工作区**：多项目同屏管理，统一配置，提升跨代码库开发效率。
- **对话分支**：支持回溯探索不同方案，避免重复提问。