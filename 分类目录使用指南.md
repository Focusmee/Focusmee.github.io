# 分类目录功能使用指南

## 功能概述

本博客系统现已支持按分类目录分级存储博客文章，能够动态获取分类信息并自动生成分类导航。

## 目录结构

### 新的文件组织方式

```
posts/
├── java/                   # Java相关文章
│   └── 2025-01-21-java-learning.html
├── other/                  # 其他文章
│   └── 2025-01-20-my-first-post.html
├── spring/                 # Spring框架文章
├── database/               # 数据库相关文章
└── distributed/            # 分布式系统文章
```

### 支持的分类

| 分类代码 | 显示名称 | 图标 | 描述 |
|---------|---------|------|------|
| `java` | Java | coffee | Java开发技术、框架和最佳实践 |
| `spring` | Spring | leaf | Spring框架生态系统相关内容 |
| `database` | 数据库 | database | 数据库设计、优化和管理 |
| `distributed` | 分布式 | network-wired | 分布式系统架构和微服务 |
| `iot` | 物联网 | microchip | 物联网技术和应用开发 |
| `frontend` | 前端 | laptop-code | 前端开发技术和用户体验 |
| `backend` | 后端 | server | 后端开发和服务器端技术 |
| `algorithm` | 算法 | calculator | 算法设计和数据结构 |
| `system` | 系统架构 | sitemap | 系统架构设计和性能优化 |
| `other` | 其他 | file-alt | 其他技术相关内容 |

## 使用方法

### 1. 创建Markdown文章

在 `_posts/` 目录下创建Markdown文件，文件头部包含分类信息：

```yaml
---
title: "Java学习之路：从入门到进阶"
date: "2025-01-21"
category: "java"
tags: ["Java", "学习路线", "编程"]
description: "分享我的Java学习经验，从基础语法到高级特性的完整学习路线。"
---
```

### 2. 生成分类目录结构

运行生成命令：

```bash
node scripts/generate.js
```

生成器会：
- 自动创建分类目录（如 `posts/java/`）
- 将HTML文件放入对应分类目录
- 更新资源路径和链接
- 生成包含分类路径的 `posts-list.json`

### 3. 动态分类导航

博客页面会自动：
- 从 `posts-list.json` 读取分类信息
- 动态生成分类筛选标签
- 支持按分类过滤文章

## 技术实现

### 核心文件

1. **`scripts/generate.js`** - 生成器脚本
   - 创建分类目录结构
   - 生成HTML文件到对应目录
   - 更新资源路径

2. **`scripts/category-manager.js`** - 分类管理器
   - 动态获取分类信息
   - 生成分类导航HTML
   - 提供分类相关功能

3. **`scripts/posts-data.js`** - 文章数据管理
   - 支持分类目录路径
   - 动态加载文章数据

### 关键特性

#### 1. 自动路径调整

HTML文件生成到分类子目录时，会自动调整资源路径：

```html
<!-- 从 -->
<link rel="stylesheet" href="../styles/main.css">
<!-- 调整为 -->
<link rel="stylesheet" href="../styles/main.css">
```

#### 2. 面包屑导航

文章页面包含完整的导航路径：

```
博客 / Java / Java学习之路：从入门到进阶
```

#### 3. 动态分类筛选

博客页面的分类标签根据实际分类目录动态生成。

## 开发指南

### 添加新分类

1. 在 `scripts/category-manager.js` 中添加分类定义：

```javascript
// 在相应的对象中添加新分类
const displayNames = {
    'newCategory': '新分类名称'
};

const icons = {
    'newCategory': 'icon-name'
};
```

2. 在文章的front matter中使用新分类：

```yaml
---
category: "newCategory"
---
```

3. 运行生成器创建目录和文件。

### 自定义分类样式

在CSS文件中为分类添加特定样式：

```css
.post-category[data-category="java"] {
    background-color: #f89820;
    color: white;
}
```

## 最佳实践

### 1. 分类命名规范

- 使用小写英文字母
- 单词之间用连字符连接
- 保持简洁和语义化

### 2. 分类层级建议

- 避免过深的分类层级
- 每个分类下建议至少有3-5篇文章
- 根据内容特点合理分类

### 3. 文章组织

- 相关文章放在同一分类下
- 使用标签进行更细粒度的分类
- 保持分类的一致性

## 故障排除

### 常见问题

1. **分类标签不显示**
   - 检查 `posts-list.json` 是否生成
   - 确认分类管理器脚本已加载
   - 查看浏览器控制台错误信息

2. **文章链接404**
   - 确认HTML文件在正确的分类目录下
   - 检查链接路径是否包含分类目录

3. **资源文件找不到**
   - 确认HTML文件中的相对路径正确
   - 检查CSS和JS文件的路径调整

### 调试方法

1. 查看生成器输出的目录结构
2. 检查浏览器开发者工具的网络请求
3. 使用 `console.log` 调试JavaScript代码

## 版本更新

- **v1.0** - 基础分类目录功能
- **v1.1** - 动态分类导航
- **v1.2** - 分类管理器优化

## 贡献指南

欢迎提交改进建议和bug报告。请遵循项目的代码规范和提交指南。 