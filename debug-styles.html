<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åšå®¢æ ·å¼è¯Šæ–­å·¥å…·</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f8f9fa;
        }
        .debug-container { 
            max-width: 800px; 
            margin: 0 auto; 
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .debug-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
        }
        .debug-title {
            color: #2c3e50;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
        }
        .fix-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-weight: 500;
        }
        .fix-btn:hover {
            background: #218838;
        }
        .status {
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: 500;
        }
        .status.good {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.bad {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            font-family: monospace;
            font-size: 0.9rem;
            margin: 10px 0;
            overflow-x: auto;
        }
        .test-card {
            border: 1px solid #ddd; 
            padding: 20px; 
            border-radius: 8px; 
            background: white; 
            margin: 15px 0;
        }
        .test-title {
            color: #2c3e50; 
            font-size: 1.2rem; 
            margin: 10px 0;
        }
        .test-excerpt {
            color: #666; 
            line-height: 1.6; 
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="debug-container">
        <h1 style="color: #2c3e50; text-align: center;">åšå®¢æ ·å¼è¯Šæ–­å·¥å…·</h1>
        
        <div class="debug-section">
            <h2 class="debug-title">ğŸ” é—®é¢˜è¯Šæ–­</h2>
            <p>è¿™ä¸ªå·¥å…·å°†å¸®åŠ©æ‚¨è¯Šæ–­å’Œä¿®å¤åšå®¢æ–‡ç« å¡ç‰‡ä¸­æ–‡å­—ä¸å¯è§çš„é—®é¢˜ã€‚</p>
            
            <button class="fix-btn" onclick="runDiagnostics()">å¼€å§‹è¯Šæ–­</button>
            <button class="fix-btn" onclick="applyQuickFix()">å¿«é€Ÿä¿®å¤</button>
            <button class="fix-btn" onclick="resetStyles()">é‡ç½®æ ·å¼</button>
            
            <div id="diagnosticResults"></div>
        </div>
        
        <div class="debug-section">
            <h2 class="debug-title">ğŸ› ï¸ æ‰‹åŠ¨ä¿®å¤é€‰é¡¹</h2>
            
            <h3>é€‰é¡¹1ï¼šç§»é™¤æ–°æ ·å¼æ–‡ä»¶</h3>
            <p>ä¸´æ—¶ç§»é™¤blog-new.cssæ–‡ä»¶çš„å¼•ç”¨ï¼š</p>
            <div class="code-block">
                &lt;!-- åœ¨blog.htmlä¸­æ³¨é‡Šæ‰è¿™ä¸€è¡Œ --&gt;<br>
                &lt;!-- &lt;link rel="stylesheet" href="styles/blog-new.css"&gt; --&gt;
            </div>
            <button class="fix-btn" onclick="toggleNewCSS()">åˆ‡æ¢æ–°CSS</button>
            
            <h3>é€‰é¡¹2ï¼šå¼ºåˆ¶æ–‡å­—å¯è§</h3>
            <p>æ·»åŠ å¼ºåˆ¶å¯è§çš„CSSæ ·å¼ï¼š</p>
            <div class="code-block">
                .post-card * {<br>
                &nbsp;&nbsp;color: #333 !important;<br>
                &nbsp;&nbsp;opacity: 1 !important;<br>
                &nbsp;&nbsp;visibility: visible !important;<br>
                }
            </div>
            <button class="fix-btn" onclick="forceTextVisible()">å¼ºåˆ¶æ–‡å­—å¯è§</button>
            
            <h3>é€‰é¡¹3ï¼šæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°</h3>
            <p>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·(F12)ï¼Œæ£€æŸ¥Consoleå’ŒElementsæ ‡ç­¾é¡µã€‚</p>
            <button class="fix-btn" onclick="showConsoleInstructions()">æŸ¥çœ‹è¯´æ˜</button>
        </div>
        
        <div class="debug-section">
            <h2 class="debug-title">ğŸ“‹ æµ‹è¯•æ ·ä¾‹</h2>
            <p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡ç« å¡ç‰‡ï¼ŒæŸ¥çœ‹æ–‡å­—æ˜¯å¦å¯è§ï¼š</p>
            
            <div class="test-card">
                <h3 class="test-title">æµ‹è¯•æ–‡ç« æ ‡é¢˜</h3>
                <p class="test-excerpt">è¿™æ˜¯æµ‹è¯•æ–‡å­—å†…å®¹ã€‚å¦‚æœæ‚¨èƒ½çœ‹åˆ°è¿™æ®µæ–‡å­—ï¼Œè¯´æ˜æ ·å¼æ­£å¸¸ã€‚</p>
                <span style="background: #007bff; color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.8rem;">æµ‹è¯•æ ‡ç­¾</span>
            </div>
            
            <div id="testResults"></div>
        </div>
    </div>

    <script>
        function runDiagnostics() {
            const results = document.getElementById('diagnosticResults');
            results.innerHTML = '<h3>ğŸ” è¯Šæ–­ç»“æœï¼š</h3>';
            
            // æ£€æŸ¥CSSæ–‡ä»¶æ˜¯å¦åŠ è½½
            const cssLinks = document.querySelectorAll('link[rel="stylesheet"]');
            let hasNewCSS = false;
            let hasOldCSS = false;
            
            cssLinks.forEach(link => {
                if (link.href.includes('blog-new.css')) hasNewCSS = true;
                if (link.href.includes('blog.css')) hasOldCSS = true;
            });
            
            if (hasNewCSS) {
                results.innerHTML += '<div class="status bad">æ£€æµ‹åˆ°blog-new.cssæ–‡ä»¶ï¼Œå¯èƒ½å­˜åœ¨æ ·å¼å†²çª</div>';
            } else {
                results.innerHTML += '<div class="status good">æœªæ£€æµ‹åˆ°blog-new.cssæ–‡ä»¶</div>';
            }
            
            if (hasOldCSS) {
                results.innerHTML += '<div class="status good">æ£€æµ‹åˆ°blog.cssæ–‡ä»¶</div>';
            } else {
                results.innerHTML += '<div class="status bad">æœªæ£€æµ‹åˆ°blog.cssæ–‡ä»¶</div>';
            }
            
            // æ£€æŸ¥æµ‹è¯•æ–‡å­—æ˜¯å¦å¯è§
            const testCard = document.querySelector('.post-card');
            const cardStyles = window.getComputedStyle(testCard);
            const titleStyles = window.getComputedStyle(testCard.querySelector('.post-title'));
            
            if (cardStyles.display === 'none' || cardStyles.visibility === 'hidden' || cardStyles.opacity === '0') {
                results.innerHTML += '<div class="status bad">æµ‹è¯•å¡ç‰‡ä¸å¯è§</div>';
            } else {
                results.innerHTML += '<div class="status good">æµ‹è¯•å¡ç‰‡å¯è§</div>';
            }
            
            if (titleStyles.color === 'rgb(255, 255, 255)' || titleStyles.opacity === '0') {
                results.innerHTML += '<div class="status bad">æ–‡å­—é¢œè‰²å¼‚å¸¸</div>';
            } else {
                results.innerHTML += '<div class="status good">æ–‡å­—é¢œè‰²æ­£å¸¸</div>';
            }
            
            results.innerHTML += '<p><strong>å»ºè®®ï¼š</strong>å¦‚æœæ£€æµ‹åˆ°æ ·å¼å†²çªï¼Œè¯·ä½¿ç”¨"å¿«é€Ÿä¿®å¤"æŒ‰é’®æˆ–æ‰‹åŠ¨ä¿®å¤é€‰é¡¹ã€‚</p>';
        }
        
        function applyQuickFix() {
            const fixCSS = document.createElement('style');
            fixCSS.id = 'blog-text-fix';
            fixCSS.innerHTML = `
                /* åšå®¢æ–‡ç« å¡ç‰‡æ–‡å­—ä¿®å¤ */
                .post-card, .post-card * {
                    color: #333 !important;
                    opacity: 1 !important;
                    visibility: visible !important;
                }
                .post-title {
                    color: #2c3e50 !important;
                    font-size: 1.2rem !important;
                    font-weight: 600 !important;
                    margin: 10px 0 !important;
                }
                .post-excerpt {
                    color: #666 !important;
                    font-size: 1rem !important;
                    line-height: 1.6 !important;
                }
                .post-meta span {
                    color: #666 !important;
                    font-size: 0.9rem !important;
                }
                .post-category {
                    background: #007bff !important;
                    color: white !important;
                    padding: 4px 8px !important;
                    border-radius: 12px !important;
                }
                .post-tag {
                    background: #f8f9fa !important;
                    color: #666 !important;
                    padding: 3px 8px !important;
                    border-radius: 12px !important;
                }
                .post-link {
                    color: #007bff !important;
                    text-decoration: none !important;
                }
            `;
            
            const oldFix = document.getElementById('blog-text-fix');
            if (oldFix) oldFix.remove();
            
            document.head.appendChild(fixCSS);
            
            document.getElementById('fixStatus').innerHTML = 
                '<div style="background: #d4edda; color: #155724; padding: 10px; border-radius: 5px;">âœ… ä¿®å¤æ ·å¼å·²åº”ç”¨ï¼è¯·è¿”å›åšå®¢é¡µé¢æ£€æŸ¥æ•ˆæœã€‚</div>';
        }
        
        function toggleNewCSS() {
            const newCSS = document.querySelector('link[href*="blog-new.css"]');
            if (newCSS) {
                if (newCSS.disabled) {
                    newCSS.disabled = false;
                    alert('å·²å¯ç”¨blog-new.css');
                } else {
                    newCSS.disabled = true;
                    alert('å·²ç¦ç”¨blog-new.css');
                }
            } else {
                alert('æœªæ‰¾åˆ°blog-new.cssæ–‡ä»¶');
            }
        }
        
        function forceTextVisible() {
            applyQuickFix();
        }
        
        function resetStyles() {
            const fixCSS = document.getElementById('blog-text-fix');
            if (fixCSS) {
                fixCSS.remove();
                document.getElementById('fixStatus').innerHTML = 
                    '<div style="background: #f8d7da; color: #721c24; padding: 10px; border-radius: 5px;">âš ï¸ ä¿®å¤æ ·å¼å·²ç§»é™¤ã€‚</div>';
            } else {
                document.getElementById('fixStatus').innerHTML = 
                    '<div style="background: #d1ecf1; color: #0c5460; padding: 10px; border-radius: 5px;">â„¹ï¸ æ²¡æœ‰å‘ç°éœ€è¦ç§»é™¤çš„ä¿®å¤æ ·å¼ã€‚</div>';
            }
        }
        
        function showConsoleInstructions() {
            alert('è¯·æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç„¶åï¼š\\n1. æ£€æŸ¥Consoleæ ‡ç­¾é¡µæ˜¯å¦æœ‰é”™è¯¯\\n2. åœ¨Elementsæ ‡ç­¾é¡µä¸­æ£€æŸ¥.post-cardå…ƒç´ çš„æ ·å¼\\n3. æŸ¥çœ‹æ˜¯å¦æœ‰è¢«åˆ’æ‰çš„CSSå±æ€§');
        }
        
        // è‡ªåŠ¨æ£€æµ‹å¹¶æä¾›ä¿®å¤å»ºè®®
        window.addEventListener('load', function() {
            setTimeout(function() {
                const status = document.getElementById('fixStatus');
                status.innerHTML = 
                    '<div style="background: #fff3cd; color: #856404; padding: 10px; border-radius: 5px;">ğŸ’¡ æç¤ºï¼šå¦‚æœæ‚¨åœ¨åšå®¢é¡µé¢çœ‹ä¸åˆ°æ–‡å­—ï¼Œè¯·ç‚¹å‡»"åº”ç”¨ä¿®å¤æ ·å¼"æŒ‰é’®ã€‚</div>';
            }, 1000);
        });
    </script>
</body>
</html> 