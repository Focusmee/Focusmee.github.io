<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ä»¶å­˜å‚¨æœåŠ¡å™¨ - æŠ€æœ¯åšå®¢</title>
    <meta name="description" content="æ–‡ä»¶å­˜å‚¨æœåŠ¡å™¨ - DevOpsç›¸å…³æŠ€æœ¯æ–‡ç« ">
    <meta name="keywords" content="DevOps, æŠ€æœ¯åšå®¢, ç¼–ç¨‹, å¼€å‘">
    
    <!-- CSSæ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/post.css">
    <link rel="stylesheet" href="../../styles/highlight.css">
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="../../index.html" class="nav-brand">ğŸ“š æŠ€æœ¯åšå®¢</a>
            <div class="nav-links">
                <a href="../../index.html" class="nav-link">é¦–é¡µ</a>
                <a href="../../blog.html" class="nav-link">åšå®¢</a>
            </div>
        </div>
    </nav>

    <!-- é¢åŒ…å±‘å¯¼èˆª -->
    <div class="breadcrumb">
        <div class="container">
            <a href="../../index.html">é¦–é¡µ</a>
            <span class="separator">â€º</span>
            <a href="../../blog.html">åšå®¢</a>
            <span class="separator">â€º</span>
            <span class="category-breadcrumb">DevOps</span>
            <span class="separator">â€º</span>
            <span class="current-page">æ–‡ä»¶å­˜å‚¨æœåŠ¡å™¨</span>
        </div>
    </div>

    <!-- æ–‡ç« å®¹å™¨ - ç›®å½•åŠŸèƒ½ä¼šåœ¨è¿™é‡ŒåŠ¨æ€æ’å…¥ -->
    <div class="container">
        <article class="post-container">
            <!-- æ–‡ç« å¤´éƒ¨ -->
            <header class="post-header">
                <div class="post-meta">
                    <span class="category-tag devops">ğŸ³ DevOps</span>
                    <time class="publish-date" datetime="2025-06-25">2025-06-25</time>
                    <span class="read-time">ğŸ“– 3 åˆ†é’Ÿé˜…è¯»</span>
                </div>
                <h1 class="post-title">æ–‡ä»¶å­˜å‚¨æœåŠ¡å™¨</h1>
            </header>
            
            <!-- æ–‡ç« å†…å®¹ -->
            <main class="post-content">
                <p>æœ¬æ–‡ä¸»è¦è®°å½•ä¸€ä¸‹`docker`å¦‚ä½•å®‰è£…å’Œå¯åŠ¨`minio`ï¼Œå…ˆçœ‹ä¸€ä¸‹æˆåŠŸå¯åŠ¨çš„æ­¥éª¤ï¼š<br /><br />é¦–å…ˆä¸‹è½½ç›¸å…³é•œåƒï¼š<br /><br />```bash<br />bash ä»£ç è§£è¯»å¤åˆ¶ä»£ç # æœç´¢minioé•œåƒ<br />docker search minio<br /><h1>ä¸‹è½½minio/minio</h1><br />docker pull minio/minio<br />```<br /><br />åˆ›å»ºæ–‡ä»¶æŒ‚è½½ç›®å½•ï¼š<br /><br />```bash<br />bash ä»£ç è§£è¯»å¤åˆ¶ä»£ç sudo mkdir /opt/docker/minio/miniodata<br /><h1>æä¾›å¯å†™çš„æƒé™ï¼Œå¦åˆ™å¯åŠ¨æ—¶ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯</h1><br /><h1>unable to use the drive /data:file access denied: Invalid arguments specified</h1><br />sudo chmod 777 /opt/docker/minio/miniodata<br />```<br /><br />å¯åŠ¨ï¼š`minio`<br /><br />```bash<br />bash ä»£ç è§£è¯»å¤åˆ¶ä»£ç docker run \<br />-p 9000:9000 \<br />-p 5001:5001 \<br />-v /opt/docker/minio/miniodata:/data \<br />-e "ROOT_ACCESS_KEY=minioadmin" \<br />-e "ROOT_SECRET_KEY=minioadmin" \<br />-d minio/minio server /data --console-address ":5001"<br />```<br /><br />å‘½ä»¤è¯´æ˜ï¼š<br /><br />> 1. docker runï¼šå¯åŠ¨ç¨‹åº<br />> 2. -pï¼šæŒ‡å®šç«¯å£å· 9000: æ˜¯minioé»˜è®¤çš„ç«¯å£å·<br />> 3. -vï¼šæŒ‡å®šæŒ‚è½½ç›®å½•ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœä¸æŒ‡å®šï¼Œå½“å®¹å™¨è¢«åˆ é™¤ä¹‹åå®¹å™¨çš„æ•°æ®å°†ä¼šä¸¢å¤±ã€‚<br />> 4. -eï¼šæŒ‡å®šç¯å¢ƒå˜é‡ï¼Œè¿™é‡Œæ˜¯æŒ‡å®šäº†`minio dashboard`çš„ç™»å½•è´¦å·å’Œå¯†ç ã€‚<br />> 5. -dï¼šåå°è¿è¡Œ `minio/minio` æ˜¯æˆ‘ä»¬ä¸‹è½½çš„é•œåƒï¼Œserver /data æ˜¯minioçš„å‘½ä»¤æŒ‡å®šæ–‡ä»¶å­˜æ”¾çš„ç›®å½•ã€‚--console-addressï¼šæŒ‡å®š`minio dashbord`çš„ç«¯å£å·ã€‚æœ‰æ—¶åœ¨å‘½ä»¤åé¢è¿˜ä¼šçœ‹è§ -addresså‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡å®šçš„æ˜¯`minio s3 api` çš„ç«¯å£å·ã€‚<br /><br />å¯åŠ¨åä¾¿å¯é€šè¿‡`docker logs containerId`çš„æ–¹å¼æŸ¥çœ‹`log`ï¼Œå¦‚æœåœ¨ç”µè„‘ä¸Šå®‰è£…äº†`docker desktop`ä¹Ÿå¯ä»¥åœ¨å®¹å™¨çš„`logs`çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š<br /><br /><img alt="WechatIMG9.jpg" src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac95d11aebfb4b2da2e919370801086f~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1484&h=594&s=411864&e=jpg&b=fcfcfc" /><br /><br />å…¶ä¸­`s3-api`è¿™ä¸ªåœ°å€å°±å¯ä»¥é…ç½®åœ¨springbooté¡¹ç›®çš„`yaml`ä¸­ï¼Œè¿›è¡Œæ–‡ä»¶ä¸Šä¼ æ“ä½œã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š<br /><br />```yml<br />yml ä»£ç è§£è¯»å¤åˆ¶ä»£ç minio:<br />  endpoint: http://127.0.0.1:9000<br />  accessKey: minioadmin<br />  secretKey: minioadmin<br />  bucketName: minio-first-bucket<br />spring:<br />  servlet:<br />    multipart:<br />      max-file-size: 10MB<br />      max-request-size: 100MB<br />```<br /><br />ä¸‹é¢çš„å†…å®¹å°±æ˜¯è®°å½•ä¸€ä¸‹è¸©å‘çš„è¿‡ç¨‹ï¼š<br /><br />> - æœ¬äººé¦–å…ˆæ˜¯æˆåŠŸå®‰è£…å¯åŠ¨åï¼Œé€šè¿‡`spring boot`é¡¹ç›®ä¸Šä¼ æ–‡ä»¶åï¼Œæ–‡ä»¶ä¸Šä¼ æˆåŠŸä½†æ˜¯æˆ‘çš„æŒ‚è½½ç›®å½•æœ¬æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ã€‚<br />> - æ¥ç€ä»dockerå®˜ç½‘äº†è§£åˆ°æ–‡ä»¶åº”è¯¥æ˜¯ä¼šåœ¨æŒ‚è½½ç›®å½•çš„ï¼Œä½†æ˜¯ç”±äºä¸çŸ¥é“å¦‚ä½•æ’æŸ¥è¿™ä¸ªé—®é¢˜ï¼Œå°±å°†è¯¥å®¹å™¨åˆ é™¤ï¼Œæ‰“ç®—é‡æ–°å¯åŠ¨ä¸€ä¸ªå®¹å™¨è¯•ä¸€ä¸‹ã€å¤§å‘ã€‘<br />> - åœ¨åˆ é™¤ä¹‹åï¼ŒæŒ‰ç…§åŒæ ·çš„æ–¹å¼å¯åŠ¨ï¼Œå®¹å™¨å°±æ— æ³•å¯åŠ¨å‡ºç°å¦‚ä¸‹ä¿¡æ¯çš„é”™è¯¯ï¼š`unable to rename xxx`å’Œ`unable to use the drive /data:file access denied`ã€‚<br />> - æ¥ç€åœ¨ç½‘ä¸Šæœå¯»ä¸€ç•ªï¼Œæœ‰çš„äººè¯´æ˜¯å› ä¸ºä¹‹å‰å®‰è£…è¿‡ï¼Œä¸èƒ½æŒ‡å®šç›¸åŒçš„ç›®å½•ï¼Œäºæ˜¯å‘¼ï¼šæ¢ä¸€ä¸ªç›®å½•ï¼Œå¤±è´¥ï¼Œåˆ æ‰ä¹‹å‰çš„ç›®å½•é‡æ–°å¯åŠ¨ï¼Œå¤±è´¥ï¼æ¢ç‰ˆæœ¬å¤±è´¥ï¼åŒ…æ‹¬ä½†ä¸é™äº`stack overflow`æˆ–è€…å®˜ç½‘ç»™å®šçš„è§£å†³æ–¹æ³•ã€‚ æœ€ååœ¨æ‰“ç®—æ”¾å¼ƒçš„å…³å¤´ï¼šæ‰§è¡Œäº†`chmod 777 æŒ‚è½½ç›®å½•`ï¼Œé‡å¯æˆåŠŸï¼Œä¸ä»…é‡å¯æˆåŠŸé€šè¿‡`java`ä¸Šä¼ æ–‡ä»¶ï¼Œåœ¨è¯¥ç›®å½•ä¸‹ä¹Ÿæœ‰äº†å¤‡ä»½ã€‚<br />> - ps: æ•´ä¸ªè¿‡ç¨‹å¤§æ¦‚è€—è´¹äº†ä¸‰ä¸ªå°æ—¶ï¼Œ<br /><br />å‚è€ƒèµ„æ–™ï¼š<br /><br />- <a href="https://link.juejin.cn?target=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F72332735%2Fminio-permission-denied">sof:inio-permission-denied</a><br />- <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2FDCTANT%2Farticle%2Fdetails%2F129861486">è§£å†³minioå¯åŠ¨æŠ¥ERROR Unable to use the drive <em></em> found backend type fs, expected xl or xl-single</a><br />- <a href="https://link.juejin.cn?target=https%3A%2F%2Fmin.io%2Fdocs%2Fminio%2Fmacos%2Findex.html">MinIO Object Storage for MacOS</a><br /><br /></p>
            </main>
            
            <!-- æ–‡ç« åº•éƒ¨ -->
            <footer class="post-footer">
                <div class="post-actions">
                    <button class="back-button" onclick="history.back()">â† è¿”å›ä¸Šé¡µ</button>
                    <a href="../../blog.html" class="more-posts-link">æŸ¥çœ‹æ›´å¤šæ–‡ç«  â†’</a>
                </div>
                
                <!-- æ–‡ç« æ ‡ç­¾ -->
                <div class="post-tags">
                    <span class="tag-label">æ ‡ç­¾ï¼š</span>
                    <span class="tag">DevOps</span>
                </div>
                
                <!-- ç‰ˆæƒä¿¡æ¯ -->
                <div class="post-copyright">
                    <p>æœ¬æ–‡ç”±æŠ€æœ¯åšå®¢åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚æ¬¢è¿åˆ†äº«ä¸äº¤æµï¼</p>
                </div>
            </footer>
        </article>
    </div>

    <!-- JavaScriptæ–‡ä»¶ -->
    <script src="../../scripts/highlight.js"></script>
    <script src="../../scripts/reading-toolbar.js"></script>
    <script src="../../scripts/table-of-contents.js"></script>
    
    <!-- é¡µé¢æ€§èƒ½ç›‘æ§ -->
    <script>
        // ç®€å•çš„é¡µé¢åŠ è½½æ€§èƒ½ç›‘æ§
        window.addEventListener('load', function() {
            const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
            console.log('é¡µé¢åŠ è½½æ—¶é—´:', loadTime + 'ms');
        });
    </script>
</body>
</html>