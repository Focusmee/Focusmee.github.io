<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ - æŠ€æœ¯åšå®¢</title>
    <meta name="description" content="@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ - Javaç›¸å…³æŠ€æœ¯æ–‡ç« ">
    <meta name="keywords" content="Java, æŠ€æœ¯åšå®¢, ç¼–ç¨‹, å¼€å‘">
    
    <!-- CSSæ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/post.css">
    <link rel="stylesheet" href="../../styles/highlight.css">
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="../../index.html" class="nav-brand">ğŸ“š æŠ€æœ¯åšå®¢</a>
            <div class="nav-links">
                <a href="../../index.html" class="nav-link">é¦–é¡µ</a>
                <a href="../../blog.html" class="nav-link">åšå®¢</a>
            </div>
        </div>
    </nav>

    <!-- é¢åŒ…å±‘å¯¼èˆª -->
    <div class="breadcrumb">
        <div class="container">
            <a href="../../index.html">é¦–é¡µ</a>
            <span class="separator">â€º</span>
            <a href="../../blog.html">åšå®¢</a>
            <span class="separator">â€º</span>
            <span class="category-breadcrumb">Java</span>
            <span class="separator">â€º</span>
            <span class="current-page">@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ</span>
        </div>
    </div>

    <!-- æ–‡ç« å®¹å™¨ - ç›®å½•åŠŸèƒ½ä¼šåœ¨è¿™é‡ŒåŠ¨æ€æ’å…¥ -->
    <div class="container">
        <article class="post-container">
            <!-- æ–‡ç« å¤´éƒ¨ -->
            <header class="post-header">
                <div class="post-meta">
                    <span class="category-tag java">â˜• Java</span>
                    <time class="publish-date" datetime="2025-06-25">2025-06-25</time>
                    <span class="read-time">ğŸ“– 3 åˆ†é’Ÿé˜…è¯»</span>
                </div>
                <h1 class="post-title">@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ</h1>
            </header>
            
            <!-- æ–‡ç« å†…å®¹ -->
            <main class="post-content">
                <p>title: SpringBootä¸­@Configurationæ²¡æœ‰ç”Ÿæ•ˆ<br /><br />- `@Configuration` æ²¡æœ‰ç”Ÿæ•ˆï¼Œå¯èƒ½çš„åŸå› å¦‚ä¸‹ï¼š<br /><br />  ### <strong>ğŸ” å¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ</strong><br /><br />  ------<br /><br />  ### <strong>1ï¸âƒ£ `@Configuration` æ‰€åœ¨çš„åŒ…ä¸åœ¨ Spring Boot æ‰«æèŒƒå›´å†…</strong><br /><br />  <strong>é—®é¢˜</strong>ï¼š<br />   Spring Boot åªä¼šè‡ªåŠ¨æ‰«æ<strong>å¯åŠ¨ç±»<em>*æ‰€åœ¨åŒ…åŠå…¶*</em>å­åŒ…</strong>ï¼Œå¦‚æœä½ çš„ `@Configuration` ç±»åœ¨å…¶ä»–åŒ…ä¸­ï¼Œå°±ä¸ä¼šè¢«åŠ è½½ã€‚<br /><br />  <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<br /><br />  - <strong>æ–¹æ³• 1ï¼š<em>* æŠŠ `@Configuration` ç±»æ”¾åœ¨ `@SpringBootApplication` ç±»çš„*</em>åŒçº§æˆ–å­åŒ…</strong>å†…ã€‚<br /><br />  - æ–¹æ³• 2ï¼š<br /><br />     åœ¨ <br /><br />    ```<br />    @SpringBootApplication<br />    ```<br /><br />     ä¸Šæ·»åŠ  <br /><br />    ```<br />    @ComponentScan<br />    ```<br /><br />     æŒ‡å®šåŒ…è·¯å¾„ï¼š<br /><br />    ```java<br />    @SpringBootApplication<br />    @ComponentScan(basePackages = {"com.example.config"}) // æŒ‡å®šä½ çš„ @Configuration ç±»æ‰€åœ¨åŒ…<br />    public class Application {<br />        public static void main(String[] args) {<br />            SpringApplication.run(Application.class, args);<br />        }<br />    }<br />    ```<br /><br />  ------<br /><br />  ### <strong>2ï¸âƒ£ `@Configuration` ç±»æ²¡æœ‰è¢« Spring ç®¡ç†</strong><br /><br />  <strong>é—®é¢˜</strong>ï¼š<br />   `@Configuration` éœ€è¦è¢« Spring å®¹å™¨ç®¡ç†ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆã€‚<br /><br />  <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<br /><br />  - ç¡®ä¿ <strong>æ²¡æœ‰</strong> ç”¨ `new` æ‰‹åŠ¨åˆ›å»º `@Configuration` ç±»å¯¹è±¡ã€‚<br />  - ç¡®ä¿ `@ComponentScan` çš„æ‰«æè·¯å¾„<strong>åŒ…å«</strong> `@Configuration` ç±»çš„åŒ…ã€‚<br /><br />  <strong>é”™è¯¯ç¤ºä¾‹ âŒï¼š</strong><br /><br />  ```java<br />  public static void main(String[] args) {<br />      ThreadPoolConfig config = new ThreadPoolConfig(); // âŒ è¿™æ ·ä¸ä¼šäº¤ç»™ Spring ç®¡ç†<br />      ExecutorService executorService = config.taskExecutor();<br />  }<br />  ```<br /><br />  <strong>æ­£ç¡®ç¤ºä¾‹ âœ…ï¼š</strong><br /><br />  ```java<br />  @SpringBootApplication<br />  public class Application {<br />      public static void main(String[] args) {<br />          SpringApplication.run(Application.class, args);<br />      }<br />  }<br />  ```<br /><br />  ------<br /><br />  ### <strong>3ï¸âƒ£ ä½ ä½¿ç”¨çš„æ˜¯ `@Bean` ä½† `@Configuration` æ²¡æœ‰ç”Ÿæ•ˆ</strong><br /><br />  å¦‚æœ `@Configuration` å¤±æ•ˆï¼Œ`@Bean` æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚<br /><br />  <strong>æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆçš„æ–¹æ³•</strong>ï¼š<br /><br />  ```java<br />  @Component<br />  public class TestService {<br />      @Autowired<br />      private ExecutorService executorService;<br />  <br />      public void test() {<br />          System.out.println(executorService); // å¦‚æœæ˜¯ nullï¼Œè¯´æ˜ @Configuration æ²¡ç”Ÿæ•ˆ<br />      }<br />  }<br />  ```<br /><br />  å¦‚æœ `executorService` ä¸º `null`ï¼Œè¯·æ£€æŸ¥æ˜¯å¦ç¬¦åˆ <strong>ç¬¬ 1 æ¡ å’Œ ç¬¬ 2 æ¡</strong> è§„åˆ™ã€‚<br /><br />  ------<br /><br />  ### <strong>4ï¸âƒ£ å¯èƒ½æ˜¯ `@EnableXXX` ç›¸å…³çš„ Spring ç»„ä»¶æœªå¼€å¯</strong><br /><br />  å¦‚æœä½ çš„ `@Configuration` é‡Œä½¿ç”¨äº† `@EnableXXX`ï¼ˆæ¯”å¦‚ `@EnableTransactionManagement`ã€`@EnableScheduling` ç­‰ï¼‰ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨å¼€å¯ï¼š<br /><br />  ```java<br />  @SpringBootApplication<br />  @EnableTransactionManagement // å¼€å¯äº‹åŠ¡ç®¡ç†<br />  @EnableScheduling // å¼€å¯å®šæ—¶ä»»åŠ¡<br />  public class Application { ... }<br />  ```<br /><br />  ------<br /><br />  ### <strong>5ï¸âƒ£ `@Configuration` å¯èƒ½è¢« Spring Boot ç¦ç”¨äº†</strong><br /><br />  å¦‚æœ `spring.main.allow-bean-definition-overriding` è®¾ä¸º `false`ï¼Œå¯èƒ½ä¼šå½±å“ `@Configuration` çš„ç”Ÿæ•ˆã€‚<br />   <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåœ¨ `application.yml` ä¸­æ·»åŠ ï¼š<br /><br />  ```yaml<br />  spring:<br />    main:<br />      allow-bean-definition-overriding: true<br />  ```<br /><br />  ------<br /><br />  ### <strong>ğŸš€ ç»“è®º</strong><br /><br />  å¦‚æœ `@Configuration` æ²¡ç”Ÿæ•ˆï¼Œå…ˆæŒ‰é¡ºåºæ£€æŸ¥ï¼š âœ… <strong>åŒ…æ‰«æèŒƒå›´</strong> (`@ComponentScan`)<br />   âœ… <strong>ä¸è¦ç”¨ `new` æ‰‹åŠ¨åˆ›å»º</strong><br />   âœ… <strong>æ£€æŸ¥ `@Bean` æ–¹æ³•æ˜¯å¦è¿”å› null</strong><br />   âœ… <strong>æ˜¯å¦éœ€è¦ `@EnableXXX`</strong><br />   âœ… <strong>æ£€æŸ¥ `application.yml` é…ç½®</strong></p>
            </main>
            
            <!-- æ–‡ç« åº•éƒ¨ -->
            <footer class="post-footer">
                <div class="post-actions">
                    <button class="back-button" onclick="history.back()">â† è¿”å›ä¸Šé¡µ</button>
                    <a href="../../blog.html" class="more-posts-link">æŸ¥çœ‹æ›´å¤šæ–‡ç«  â†’</a>
                </div>
                
                <!-- æ–‡ç« æ ‡ç­¾ -->
                <div class="post-tags">
                    <span class="tag-label">æ ‡ç­¾ï¼š</span>
                    <span class="tag">Java</span>
                </div>
                
                <!-- ç‰ˆæƒä¿¡æ¯ -->
                <div class="post-copyright">
                    <p>æœ¬æ–‡ç”±æŠ€æœ¯åšå®¢åŸåˆ›ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚æ¬¢è¿åˆ†äº«ä¸äº¤æµï¼</p>
                </div>
            </footer>
        </article>
    </div>

    <!-- JavaScriptæ–‡ä»¶ -->
    <script src="../../scripts/highlight.js"></script>
    <script src="../../scripts/reading-toolbar.js"></script>
    <script src="../../scripts/table-of-contents.js"></script>
    
    <!-- é¡µé¢æ€§èƒ½ç›‘æ§ -->
    <script>
        // ç®€å•çš„é¡µé¢åŠ è½½æ€§èƒ½ç›‘æ§
        window.addEventListener('load', function() {
            const loadTime = window.performance.timing.loadEventEnd - window.performance.timing.navigationStart;
            console.log('é¡µé¢åŠ è½½æ—¶é—´:', loadTime + 'ms');
        });
    </script>
</body>
</html>