<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€SpringBootæ¡†æ¶å­¦ä¹ ã€‘@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ | Focusmee</title>
    <meta name="description" content="ã€SpringBootæ¡†æ¶å­¦ä¹ ã€‘@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ">
    <meta property="og:title" content="ã€SpringBootæ¡†æ¶å­¦ä¹ ã€‘@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ">
    <meta property="og:description" content="ã€SpringBootæ¡†æ¶å­¦ä¹ ã€‘@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ">
    <meta property="og:type" content="article">
    <link rel="stylesheet" href="../../styles/fonts.css">
    <link rel="stylesheet" href="../../styles/icons.css">
    <link rel="stylesheet" href="../../styles/highlight.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/post.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../../index.html" class="logo-link">
                    <span class="logo-text">Focusmee</span>
                    <div class="logo-subtitle">å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆ</div>
                </a>
            </div>
            <div class="nav-menu">
                <a href="../../index.html#about" class="nav-link">å…³äº</a>
                <a href="../../index.html#work" class="nav-link">é¡¹ç›®</a>
                <a href="../../blog.html" class="nav-link">åšå®¢</a>
                <a href="../../index.html#contact" class="nav-link">è”ç³»</a>
                <div class="nav-social">
                    <a href="https://github.com/Focusmee" target="_blank" class="social-link">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="mailto:2105735259@qq.com" class="social-link">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Reading Toolbar -->
    <div id="readingToolbar" class="reading-toolbar">
        <div class="toolbar-handle">
            <i class="fas fa-bars"></i>
        </div>
        <div class="toolbar-content">
            <div class="toolbar-header">
                <h4>é˜…è¯»å·¥å…·</h4>
                <button class="toolbar-toggle" title="å±•å¼€/æ”¶èµ·">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
            <div class="toolbar-controls">
                <div class="control-group">
                    <label>å­—ä½“å¤§å°</label>
                    <div class="font-size-controls">
                        <button class="font-btn" data-action="decrease">A-</button>
                        <span class="font-size-display">16px</span>
                        <button class="font-btn" data-action="increase">A+</button>
                    </div>
                </div>
                <div class="control-group">
                    <label>ä¸»é¢˜æ¨¡å¼</label>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                        <span>æ·±è‰²æ¨¡å¼</span>
                    </button>
                </div>
                <div class="control-group">
                    <label>é˜…è¯»è¿›åº¦</label>
                    <div class="reading-progress-info">
                        <span id="readingPercentage">0%</span>
                        <div class="progress-bar-mini">
                            <div class="progress-fill-mini"></div>
                        </div>
                    </div>
                </div>
                <div class="control-group">
                    <button class="tool-btn" id="shareBtn">
                        <i class="fas fa-share-alt"></i>
                        <span>åˆ†äº«æ–‡ç« </span>
                    </button>
                </div>
                <div class="control-group">
                    <button class="tool-btn" id="printBtn">
                        <i class="fas fa-print"></i>
                        <span>æ‰“å°æ–‡ç« </span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Post Content -->
    <article class="post">
        <div class="container">
            <header class="post-header">
                <nav class="breadcrumb">
                    <a href="../../blog.html">åšå®¢</a>
                    <span class="separator">/</span>
                    <span class="category-breadcrumb">å…¶ä»–</span>
                    <span class="separator">/</span>
                    <span class="current">ã€SpringBootæ¡†æ¶å­¦ä¹ ã€‘@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ</span>
                </nav>
                
                <div class="post-meta">
                    <time class="post-date">2025/6/25 08:00:00</time>
                    <span class="post-category">å…¶ä»–</span>
                    <span class="post-read-time">7 åˆ†é’Ÿé˜…è¯»</span>
                </div>
                
                <h1 class="post-title">ã€SpringBootæ¡†æ¶å­¦ä¹ ã€‘@Configurationæ²¡ç”Ÿæ•ˆå¯èƒ½çš„åŸå›  & è§£å†³æ–¹æ¡ˆ</h1>
                
                <div class="post-tags">
                    
                </div>
            </header>
            
            <div class="post-content">
                <p>title: SpringBootä¸­@Configurationæ²¡æœ‰ç”Ÿæ•ˆ</p>
<ul>
<li><p><code>@Configuration</code> æ²¡æœ‰ç”Ÿæ•ˆï¼Œå¯èƒ½çš„åŸå› å¦‚ä¸‹ï¼š</p>
<h3><strong>ğŸ” å¯èƒ½çš„åŸå›  &amp; è§£å†³æ–¹æ¡ˆ</strong></h3>
<hr>
<h3><strong>1ï¸âƒ£ <code>@Configuration</code> æ‰€åœ¨çš„åŒ…ä¸åœ¨ Spring Boot æ‰«æèŒƒå›´å†…</strong></h3>
<p><strong>é—®é¢˜</strong>ï¼š<br> Spring Boot åªä¼šè‡ªåŠ¨æ‰«æ<strong>å¯åŠ¨ç±»</strong>æ‰€åœ¨åŒ…åŠå…¶<strong>å­åŒ…</strong>ï¼Œå¦‚æœä½ çš„ <code>@Configuration</code> ç±»åœ¨å…¶ä»–åŒ…ä¸­ï¼Œå°±ä¸ä¼šè¢«åŠ è½½ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li><p><strong>æ–¹æ³• 1ï¼š</strong> æŠŠ <code>@Configuration</code> ç±»æ”¾åœ¨ <code>@SpringBootApplication</code> ç±»çš„<strong>åŒçº§æˆ–å­åŒ…</strong>å†…ã€‚</p>
</li>
<li><p>æ–¹æ³• 2ï¼š</p>
<p> åœ¨ </p>
<pre><code>@SpringBootApplication
</code></pre>
<p> ä¸Šæ·»åŠ  </p>
<pre><code>@ComponentScan
</code></pre>
<p> æŒ‡å®šåŒ…è·¯å¾„ï¼š</p>
<pre><code class="language-java">@SpringBootApplication
@ComponentScan(basePackages = {&quot;com.example.config&quot;}) // æŒ‡å®šä½ çš„ @Configuration ç±»æ‰€åœ¨åŒ…
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
</code></pre>
</li>
</ul>
<hr>
<h3><strong>2ï¸âƒ£ <code>@Configuration</code> ç±»æ²¡æœ‰è¢« Spring ç®¡ç†</strong></h3>
<p><strong>é—®é¢˜</strong>ï¼š<br> <code>@Configuration</code> éœ€è¦è¢« Spring å®¹å™¨ç®¡ç†ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿ <strong>æ²¡æœ‰</strong> ç”¨ <code>new</code> æ‰‹åŠ¨åˆ›å»º <code>@Configuration</code> ç±»å¯¹è±¡ã€‚</li>
<li>ç¡®ä¿ <code>@ComponentScan</code> çš„æ‰«æè·¯å¾„<strong>åŒ…å«</strong> <code>@Configuration</code> ç±»çš„åŒ…ã€‚</li>
</ul>
<p><strong>é”™è¯¯ç¤ºä¾‹ âŒï¼š</strong></p>
<pre><code class="language-java">public static void main(String[] args) {
    ThreadPoolConfig config = new ThreadPoolConfig(); // âŒ è¿™æ ·ä¸ä¼šäº¤ç»™ Spring ç®¡ç†
    ExecutorService executorService = config.taskExecutor();
}
</code></pre>
<p><strong>æ­£ç¡®ç¤ºä¾‹ âœ…ï¼š</strong></p>
<pre><code class="language-java">@SpringBootApplication
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
</code></pre>
<hr>
<h3><strong>3ï¸âƒ£ ä½ ä½¿ç”¨çš„æ˜¯ <code>@Bean</code> ä½† <code>@Configuration</code> æ²¡æœ‰ç”Ÿæ•ˆ</strong></h3>
<p>å¦‚æœ <code>@Configuration</code> å¤±æ•ˆï¼Œ<code>@Bean</code> æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚</p>
<p><strong>æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆçš„æ–¹æ³•</strong>ï¼š</p>
<pre><code class="language-java">@Component
public class TestService {
    @Autowired
    private ExecutorService executorService;

    public void test() {
        System.out.println(executorService); // å¦‚æœæ˜¯ nullï¼Œè¯´æ˜ @Configuration æ²¡ç”Ÿæ•ˆ
    }
}
</code></pre>
<p>å¦‚æœ <code>executorService</code> ä¸º <code>null</code>ï¼Œè¯·æ£€æŸ¥æ˜¯å¦ç¬¦åˆ <strong>ç¬¬ 1 æ¡ å’Œ ç¬¬ 2 æ¡</strong> è§„åˆ™ã€‚</p>
<hr>
<h3><strong>4ï¸âƒ£ å¯èƒ½æ˜¯ <code>@EnableXXX</code> ç›¸å…³çš„ Spring ç»„ä»¶æœªå¼€å¯</strong></h3>
<p>å¦‚æœä½ çš„ <code>@Configuration</code> é‡Œä½¿ç”¨äº† <code>@EnableXXX</code>ï¼ˆæ¯”å¦‚ <code>@EnableTransactionManagement</code>ã€<code>@EnableScheduling</code> ç­‰ï¼‰ï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨å¼€å¯ï¼š</p>
<pre><code class="language-java">@SpringBootApplication
@EnableTransactionManagement // å¼€å¯äº‹åŠ¡ç®¡ç†
@EnableScheduling // å¼€å¯å®šæ—¶ä»»åŠ¡
public class Application { ... }
</code></pre>
<hr>
<h3><strong>5ï¸âƒ£ <code>@Configuration</code> å¯èƒ½è¢« Spring Boot ç¦ç”¨äº†</strong></h3>
<p>å¦‚æœ <code>spring.main.allow-bean-definition-overriding</code> è®¾ä¸º <code>false</code>ï¼Œå¯èƒ½ä¼šå½±å“ <code>@Configuration</code> çš„ç”Ÿæ•ˆã€‚<br> <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåœ¨ <code>application.yml</code> ä¸­æ·»åŠ ï¼š</p>
<pre><code class="language-yaml">spring:
  main:
    allow-bean-definition-overriding: true
</code></pre>
<hr>
<h3><strong>ğŸš€ ç»“è®º</strong></h3>
<p>å¦‚æœ <code>@Configuration</code> æ²¡ç”Ÿæ•ˆï¼Œå…ˆæŒ‰é¡ºåºæ£€æŸ¥ï¼š âœ… <strong>åŒ…æ‰«æèŒƒå›´</strong> (<code>@ComponentScan</code>)<br> âœ… <strong>ä¸è¦ç”¨ <code>new</code> æ‰‹åŠ¨åˆ›å»º</strong><br> âœ… <strong>æ£€æŸ¥ <code>@Bean</code> æ–¹æ³•æ˜¯å¦è¿”å› null</strong><br> âœ… <strong>æ˜¯å¦éœ€è¦ <code>@EnableXXX</code></strong><br> âœ… <strong>æ£€æŸ¥ <code>application.yml</code> é…ç½®</strong></p>
</li>
</ul>

            </div>
        </div>
    </article>

    <script src="../../scripts/highlight.js"></script>
    <script src="../../scripts/post-enhance.js"></script>
    <script src="../../scripts/reading-toolbar.js"></script>
</body>
</html>